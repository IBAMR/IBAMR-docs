<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SAMRAI: SAMRAI::appu::VisMaterialsDataStrategy&lt; DIM &gt; Class Template Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespaceSAMRAI.html">SAMRAI</a>::<a class="el" href="namespaceSAMRAI_1_1appu.html">appu</a>::<a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html">VisMaterialsDataStrategy</a></div>
<h1>SAMRAI::appu::VisMaterialsDataStrategy&lt; DIM &gt; Class Template Reference</h1><!-- doxytag: class="SAMRAI::appu::VisMaterialsDataStrategy" -->Class VisMaterialsDataStrategy&lt;DIM&gt; is an abstract base class that defines an interface allowing an VisItDataWriter&lt;DIM&gt; object to generate plot files that contain material and species fractions, as well as state variables for individual materials. A concrete object of this type must be registered with the data writer in order to use materials or species with the data writer. The registration of the concrete object is done using the method setMaterialsDataWriter() from the <a class="el" href="classSAMRAI_1_1appu_1_1VisItDataWriter.html">VisItDataWriter</a> class. VisIt requires that material fractions, species fractions, and material state variables be cell-centered. If they are not cell-centered in the simulation, it is the job of the relevant packing method to convert them to a cell-centered basis before packing them into the buffer.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;source/apputils/plotting/VisMaterialsDataStrategy.h&gt;</code>
<p>
Inheritance diagram for SAMRAI::appu::VisMaterialsDataStrategy&lt; DIM &gt;:<p><center><img src="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy__inherit__graph.png" border="0" usemap="#SAMRAI_1_1appu_1_1VisMaterialsDataStrategy_3_01DIM_01_4__inherit__map" alt="Inheritance graph"></center>
<map name="SAMRAI_1_1appu_1_1VisMaterialsDataStrategy_3_01DIM_01_4__inherit__map">
<area href="classSAMRAI_1_1appu_1_1EmbeddedBoundaryGeometry.html" shape="rect" coords="7,83,353,107" alt="">
</map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center><a href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#e828832a338243edaf88517027ea7c81">PACK_RETURN_TYPE</a> { <a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#e828832a338243edaf88517027ea7c81e0dc861bba1bca0d4a7d1602b2686347">VISIT_ALLZERO</a> =  0, 
<a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#e828832a338243edaf88517027ea7c81ae5481bc876508a18facc0bbf5605e0d">VISIT_ALLONE</a> =  1, 
<a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#e828832a338243edaf88517027ea7c813289f7b93460ae282a3f8d98da3f9f26">VISIT_MIXED</a> =  2
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enumerated type for the allowable return values for <a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#ba909a18bb8141275e9438aece4816d4">packMaterialFractionsIntoDoubleBuffer()</a> and <a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#440ef3421c7c912ad11ab86a946abb20">packSpeciesFractionsIntoDoubleBuffer()</a>.<ul>
<li><b>ALL_ZERO</b> (Fractions are 0.0 for every cell in patch.)</li><li><b>ALL_ONE</b> (Fractions are 1.0 for every cell in patch.)</li><li><b>MIXTURE</b> (There is some of this species/material in one or more cells of this patch, but the above two cases do not apply.). </li></ul>
 <a href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#e828832a338243edaf88517027ea7c81">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#1b836d8bf6a415ec66948e0c35a6740e">VisMaterialsDataStrategy</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default constructor for VisMaterialsDataStrategy&lt;DIM&gt;.  <a href="#1b836d8bf6a415ec66948e0c35a6740e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#39b1d1d4551689c176eef5bf69bc4d18">~VisMaterialsDataStrategy</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor for VisMaterialsDataStrategy&lt;DIM&gt;.  <a href="#39b1d1d4551689c176eef5bf69bc4d18"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#ba909a18bb8141275e9438aece4816d4">packMaterialFractionsIntoDoubleBuffer</a> (double *<a class="el" href="appu__cpdat2buf3d_8f.html#e3215fc943ca2137c64ec5948646fa5a">buffer</a>, const <a class="el" href="classSAMRAI_1_1hier_1_1Patch.html">hier::Patch</a>&lt; DIM &gt; &amp;patch, const <a class="el" href="classSAMRAI_1_1hier_1_1Box.html">hier::Box</a>&lt; DIM &gt; &amp;region, const std::string &amp;material_name) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function, which must be implemented whenever materials are used, packs cell-centered material fractions for the given material, patch, and region into the given 1D double precision buffer which will already have been allocated. If a non-zero ghost cell vector was specified when registerMaterialNames() was invoked, then ghost data corresponding to this ghost cell vector must be packed into this double buffer. The data must be packed into the buffer in column major order, i.e. (f(x_0,y_0,z_0), f(x_1,y_0,z_0), f(x_2,y_0,z_0), ...).  <a href="#ba909a18bb8141275e9438aece4816d4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#37354a5dbcbcebc08875ba79123b7f57">packMaterialFractionsIntoSparseBuffers</a> (int *mat_list, std::vector&lt; int &gt; &amp;mix_zones, std::vector&lt; int &gt; &amp;mix_mat, std::vector&lt; double &gt; &amp;vol_fracs, std::vector&lt; int &gt; &amp;next_mat, const <a class="el" href="classSAMRAI_1_1hier_1_1Patch.html">hier::Patch</a>&lt; DIM &gt; &amp;patch, const <a class="el" href="classSAMRAI_1_1hier_1_1Box.html">hier::Box</a>&lt; DIM &gt; &amp;region) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pack sparse volume fraction data.  <a href="#37354a5dbcbcebc08875ba79123b7f57"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#440ef3421c7c912ad11ab86a946abb20">packSpeciesFractionsIntoDoubleBuffer</a> (double *<a class="el" href="appu__cpdat2buf3d_8f.html#e3215fc943ca2137c64ec5948646fa5a">buffer</a>, const <a class="el" href="classSAMRAI_1_1hier_1_1Patch.html">hier::Patch</a>&lt; DIM &gt; &amp;patch, const <a class="el" href="classSAMRAI_1_1hier_1_1Box.html">hier::Box</a>&lt; DIM &gt; &amp;region, const std::string &amp;material_name, const std::string &amp;species_name) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function packs cell-centered species fractions for the given species.  <a href="#440ef3421c7c912ad11ab86a946abb20"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;int DIM&gt;<br>
 class SAMRAI::appu::VisMaterialsDataStrategy&lt; DIM &gt;</h3>

Class VisMaterialsDataStrategy&lt;DIM&gt; is an abstract base class that defines an interface allowing an VisItDataWriter&lt;DIM&gt; object to generate plot files that contain material and species fractions, as well as state variables for individual materials. A concrete object of this type must be registered with the data writer in order to use materials or species with the data writer. The registration of the concrete object is done using the method setMaterialsDataWriter() from the <a class="el" href="classSAMRAI_1_1appu_1_1VisItDataWriter.html">VisItDataWriter</a> class. VisIt requires that material fractions, species fractions, and material state variables be cell-centered. If they are not cell-centered in the simulation, it is the job of the relevant packing method to convert them to a cell-centered basis before packing them into the buffer. 
<p>
The concrete strategy object is responsible for supplying an implementation of <a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#ba909a18bb8141275e9438aece4816d4">packMaterialFractionsIntoDoubleBuffer()</a>. If species are used, <a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#440ef3421c7c912ad11ab86a946abb20">packSpeciesFractionsIntoDoubleBuffer()</a> must also be implemented. If material state variables are used, packMaterialStateVariableIntoDoubleBuffer() must be implemented.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classSAMRAI_1_1appu_1_1VisItDataWriter.html">appu::VisItDataWriter</a> </dd></dl>

<p>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="e828832a338243edaf88517027ea7c81"></a><!-- doxytag: member="SAMRAI::appu::VisMaterialsDataStrategy::PACK_RETURN_TYPE" ref="e828832a338243edaf88517027ea7c81" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DIM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#e828832a338243edaf88517027ea7c81">SAMRAI::appu::VisMaterialsDataStrategy::PACK_RETURN_TYPE</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enumerated type for the allowable return values for <a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#ba909a18bb8141275e9438aece4816d4">packMaterialFractionsIntoDoubleBuffer()</a> and <a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#440ef3421c7c912ad11ab86a946abb20">packSpeciesFractionsIntoDoubleBuffer()</a>.<ul>
<li><b>ALL_ZERO</b> (Fractions are 0.0 for every cell in patch.)</li><li><b>ALL_ONE</b> (Fractions are 1.0 for every cell in patch.)</li><li><b>MIXTURE</b> (There is some of this species/material in one or more cells of this patch, but the above two cases do not apply.). </li></ul>

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="e828832a338243edaf88517027ea7c81e0dc861bba1bca0d4a7d1602b2686347"></a><!-- doxytag: member="VISIT_ALLZERO" ref="e828832a338243edaf88517027ea7c81e0dc861bba1bca0d4a7d1602b2686347" args="" -->VISIT_ALLZERO</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e828832a338243edaf88517027ea7c81ae5481bc876508a18facc0bbf5605e0d"></a><!-- doxytag: member="VISIT_ALLONE" ref="e828832a338243edaf88517027ea7c81ae5481bc876508a18facc0bbf5605e0d" args="" -->VISIT_ALLONE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e828832a338243edaf88517027ea7c813289f7b93460ae282a3f8d98da3f9f26"></a><!-- doxytag: member="VISIT_MIXED" ref="e828832a338243edaf88517027ea7c813289f7b93460ae282a3f8d98da3f9f26" args="" -->VISIT_MIXED</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="1b836d8bf6a415ec66948e0c35a6740e"></a><!-- doxytag: member="SAMRAI::appu::VisMaterialsDataStrategy::VisMaterialsDataStrategy" ref="1b836d8bf6a415ec66948e0c35a6740e" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DIM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html">SAMRAI::appu::VisMaterialsDataStrategy</a>&lt; DIM &gt;::<a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html">VisMaterialsDataStrategy</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Default constructor for VisMaterialsDataStrategy&lt;DIM&gt;. 
<p>

</div>
</div><p>
<a class="anchor" name="39b1d1d4551689c176eef5bf69bc4d18"></a><!-- doxytag: member="SAMRAI::appu::VisMaterialsDataStrategy::~VisMaterialsDataStrategy" ref="39b1d1d4551689c176eef5bf69bc4d18" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DIM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html">SAMRAI::appu::VisMaterialsDataStrategy</a>&lt; DIM &gt;::~<a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html">VisMaterialsDataStrategy</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor for VisMaterialsDataStrategy&lt;DIM&gt;. 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="ba909a18bb8141275e9438aece4816d4"></a><!-- doxytag: member="SAMRAI::appu::VisMaterialsDataStrategy::packMaterialFractionsIntoDoubleBuffer" ref="ba909a18bb8141275e9438aece4816d4" args="(double *buffer, const hier::Patch&lt; DIM &gt; &amp;patch, const hier::Box&lt; DIM &gt; &amp;region, const std::string &amp;material_name) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DIM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html">SAMRAI::appu::VisMaterialsDataStrategy</a>&lt; DIM &gt;::packMaterialFractionsIntoDoubleBuffer           </td>
          <td>(</td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSAMRAI_1_1hier_1_1Patch.html">hier::Patch</a>&lt; DIM &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>patch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSAMRAI_1_1hier_1_1Box.html">hier::Box</a>&lt; DIM &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>material_name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function, which must be implemented whenever materials are used, packs cell-centered material fractions for the given material, patch, and region into the given 1D double precision buffer which will already have been allocated. If a non-zero ghost cell vector was specified when registerMaterialNames() was invoked, then ghost data corresponding to this ghost cell vector must be packed into this double buffer. The data must be packed into the buffer in column major order, i.e. (f(x_0,y_0,z_0), f(x_1,y_0,z_0), f(x_2,y_0,z_0), ...). 
<p>
This method will be called once for each material for each patch.<p>
A enumerated PACK_RETURN_TYPE is used for a return value. To save space in the visit data file, you may choose to set the return value to indicate if a material does not exist at all on the patch, or if the material exists fully on the patch. A return of ALL_ZERO indicates there is 0% of the material in each of the cells of the patch, while a return type of ALL_ONE indicates the material consumes 100% on each of the cells of the patch. If the patch has a mixture of the material (i.e. between 0% and 100%) then return MIXTURE.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Double precision array into which cell-centered material fractions are packed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>patch</em>&nbsp;</td><td><a class="el" href="classSAMRAI_1_1hier_1_1Patch.html">hier::Patch</a> on which fractions are defined. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>region</em>&nbsp;</td><td><a class="el" href="classSAMRAI_1_1hier_1_1Box.html">hier::Box</a> region over which to pack fractions. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>material_name</em>&nbsp;</td><td>String identifier for the material. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The enumeration constant VisMaterialsDataStrategy::ALL_ZERO, VisMaterialsDataStrategy::ALL_ONE, or VisMaterialsDataStrategy::MIXTURE. </dd></dl>

<p>
Reimplemented in <a class="el" href="classSAMRAI_1_1appu_1_1EmbeddedBoundaryGeometry.html#1525418ea2fa1b48b9e230e1cba70314">SAMRAI::appu::EmbeddedBoundaryGeometry&lt; DIM &gt;</a>.
</div>
</div><p>
<a class="anchor" name="37354a5dbcbcebc08875ba79123b7f57"></a><!-- doxytag: member="SAMRAI::appu::VisMaterialsDataStrategy::packMaterialFractionsIntoSparseBuffers" ref="37354a5dbcbcebc08875ba79123b7f57" args="(int *mat_list, std::vector&lt; int &gt; &amp;mix_zones, std::vector&lt; int &gt; &amp;mix_mat, std::vector&lt; double &gt; &amp;vol_fracs, std::vector&lt; int &gt; &amp;next_mat, const hier::Patch&lt; DIM &gt; &amp;patch, const hier::Box&lt; DIM &gt; &amp;region) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DIM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html">SAMRAI::appu::VisMaterialsDataStrategy</a>&lt; DIM &gt;::packMaterialFractionsIntoSparseBuffers           </td>
          <td>(</td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>mat_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>mix_zones</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>mix_mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>vol_fracs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>next_mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSAMRAI_1_1hier_1_1Patch.html">hier::Patch</a>&lt; DIM &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>patch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSAMRAI_1_1hier_1_1Box.html">hier::Box</a>&lt; DIM &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>region</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pack sparse volume fraction data. 
<p>
This function, which must be implemented whenever materials are used if the sparse packing format is to be used. Packing traverses the patch in a column major order (i.e. (f(x_0,y_0,z_0), f(x_1,y_0,z_0), f(x_2,y_0,z_0), ...) ). If the current cell is clean, then the material number of the material occupying the cell should be packed in to the buffer. If the cell is mixed, then a negative index (i.e., with numbering begining at -1) into the auxilliary mix_zones, mix_mat, vol_fracs, and next_mat vectors which will contain the sparse representation of the volume fractions (VisIt will correct the negative index internally and offset to a zero based representation). For each component of a mixed cell <a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html#ba909a18bb8141275e9438aece4816d4">packMaterialFractionsIntoDoubleBuffer()</a> should pack an entry in the following vectors: mix_zones: the cell number with which the fraction is associated mix_mat: the material number of the fraction vol_fracs: the volume fraction of the current material next_mat: either the (positive but still offset by one) index to the next mixed component within the auxilliary vectors or a 0, indicating the end of the mixed components for this cell.<p>
If a non-zero ghost cell vector was specified when registerMaterialNames() was invoked, then ghost data corresponding to this ghost cell vector must be packed into this double buffer.<p>
This method will be called once for each patch.<p>
A enumerated PACK_RETURN_TYPE is used for a return value. To save space in the visit data file, you may choose to set the return value to ALL_ONE to indicate that a single material occupies 100% of each cell on the patch. Otherwise, MIXTURE should be returned even if individual cells are not mixed, as this indicates that the patch contains multiple materials.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Double precision array into which the material numbers (or negative indices) are packed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mix_zones</em>&nbsp;</td><td>std::vector&lt;int&gt; into which the cell number associated with the mixed components are packed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mix_mat</em>&nbsp;</td><td>std::vector&lt;int&gt; into which the material numbers of the mixed components are packed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vol_fracs</em>&nbsp;</td><td>std::vector&lt;double&gt; into which the volume fractions (between 0.0 and 1.0) of the mixed components are packed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>next_mat</em>&nbsp;</td><td>std::vector&lt;int&gt; into which the (positive) index of the next mixed component or a terminating 0 are packed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>patch</em>&nbsp;</td><td><a class="el" href="classSAMRAI_1_1hier_1_1Patch.html">hier::Patch</a> on which fractions are defined. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>region</em>&nbsp;</td><td><a class="el" href="classSAMRAI_1_1hier_1_1Box.html">hier::Box</a> region over which to pack fractions. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The enumeration constant VisMaterialsDataStrategy::ALL_ONE, or VisMaterialsDataStrategy::MIXTURE. </dd></dl>

</div>
</div><p>
<a class="anchor" name="440ef3421c7c912ad11ab86a946abb20"></a><!-- doxytag: member="SAMRAI::appu::VisMaterialsDataStrategy::packSpeciesFractionsIntoDoubleBuffer" ref="440ef3421c7c912ad11ab86a946abb20" args="(double *buffer, const hier::Patch&lt; DIM &gt; &amp;patch, const hier::Box&lt; DIM &gt; &amp;region, const std::string &amp;material_name, const std::string &amp;species_name) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int DIM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classSAMRAI_1_1appu_1_1VisMaterialsDataStrategy.html">SAMRAI::appu::VisMaterialsDataStrategy</a>&lt; DIM &gt;::packSpeciesFractionsIntoDoubleBuffer           </td>
          <td>(</td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSAMRAI_1_1hier_1_1Patch.html">hier::Patch</a>&lt; DIM &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>patch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSAMRAI_1_1hier_1_1Box.html">hier::Box</a>&lt; DIM &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>material_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>species_name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function packs cell-centered species fractions for the given species. 
<p>
This user supplied function packs species fractions of the given material, patch, and region into the supplied 1D double precision buffer. If a non-zero ghost cell vector was specified when registerSpeciesNames() was invoked, then ghost data corresponding to this ghost cell vector must be packed into this double buffer. The data must be packed into the buffer in column major order.<p>
This method will be called once for each species for each patch.<p>
The method must return a PACK_RETURN_TYPE of ALL_ONE, ALL_ZERO, or MIXED. See the discussion above for the "packMaterialFractionsIntoDoubleBuffer()" method for an explanation of correct return values.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Double precision array into which cell-centered species fractions are packed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>patch</em>&nbsp;</td><td><a class="el" href="classSAMRAI_1_1hier_1_1Patch.html">hier::Patch</a> on which fractions are defined. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>region</em>&nbsp;</td><td><a class="el" href="classSAMRAI_1_1hier_1_1Box.html">hier::Box</a> region over which to pack fractions. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>material_name</em>&nbsp;</td><td>String identifier for the material to which the species belongs. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>species_name</em>&nbsp;</td><td>String identifier for the species. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The enumeration constant VisMaterialsDataStrategy::ALL_ZERO, VisMaterialsDataStrategy::ALL_ONE, or VisMaterialsDataStrategy::MIXTURE. </dd></dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>source/apputils/plotting/<a class="el" href="VisMaterialsDataStrategy_8h.html">VisMaterialsDataStrategy.h</a><li>source/apputils/plotting/<a class="el" href="VisMaterialsDataStrategy_8C.html">VisMaterialsDataStrategy.C</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Jun 18 11:28:22 2009 for SAMRAI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
