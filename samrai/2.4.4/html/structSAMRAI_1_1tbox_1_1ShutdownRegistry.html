<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SAMRAI: SAMRAI::tbox::ShutdownRegistry Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespaceSAMRAI.html">SAMRAI</a>::<a class="el" href="namespaceSAMRAI_1_1tbox.html">tbox</a>::<a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html">ShutdownRegistry</a></div>
<h1>SAMRAI::tbox::ShutdownRegistry Struct Reference</h1><!-- doxytag: class="SAMRAI::tbox::ShutdownRegistry" -->Class <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html">ShutdownRegistry</a> is a utility for managing callbacks at program completion.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;source/toolbox/base/ShutdownRegistry.h&gt;</code>
<p>
<a href="structSAMRAI_1_1tbox_1_1ShutdownRegistry-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#31778c4d30e7681b38a0f2f4496c322b">registerShutdownRoutine</a> (void(*callback)(), unsigned char priority)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#4d8cbfad0833181f64e77ba793860727">callRegisteredShutdowns</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#5f0fc6eec02a8fe99175699120c6a8af">priorityLogger</a> = 05</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#5bd1d2f71ae8aeb04f5667c21ed8c05a">priorityArenaManager</a> = 10</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#743f9c449eecba960857102a2ab777fa">priorityReferenceCounter</a> = 20</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#91d63849e0d3cb1fb1bbfa291dfc6b28">priorityList</a> = 30</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#73cb2fa0c904bc0d5b6f5bc04aac21c1">priorityInputManager</a> = 40</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#6df39a58102f6db489cd62a189e13107">priorityRestartManager</a> = 50</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#0644c1b7af40961244317d0d6da46699">priorityVariableDatabase</a> = 60</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#019edbd79d2d7212b314cb28b2665442">priorityStatistician</a> = 70</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#82ff3591877606cd8cd54fb29441bd95">priorityBoundaryLookupTable</a> = 80</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#cdee715fd56db83db55f7090edcbfff9">priorityHierarchyDataOpsManager</a> = 90</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#5f26f3197c4139659c230365291a91a0">priorityTimers</a> = 95</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#3e220e342a5d2512c71ee1474c956e63">priorityTimerManger</a> = 98</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Class <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html">ShutdownRegistry</a> is a utility for managing callbacks at program completion. 
<p>
Classes that wish to have a static function called at program shutdown must register a class via <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#31778c4d30e7681b38a0f2f4496c322b">registerShutdownRoutine()</a>. The registered shutdown handler is then called at shutdown when the <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#4d8cbfad0833181f64e77ba793860727">callRegisteredShutdowns()</a> is invoked. Note that the application program must explicitly call <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#4d8cbfad0833181f64e77ba793860727">callRegisteredShutdowns()</a>.<p>
This class is useful in releasing allocated class-specific static memory on program completion to simplify the search for memory leaks. 
<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="31778c4d30e7681b38a0f2f4496c322b"></a><!-- doxytag: member="SAMRAI::tbox::ShutdownRegistry::registerShutdownRoutine" ref="31778c4d30e7681b38a0f2f4496c322b" args="(void(*callback)(), unsigned char priority)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SAMRAI::tbox::ShutdownRegistry::registerShutdownRoutine           </td>
          <td>(</td>
          <td class="paramtype">void(*)()&nbsp;</td>
          <td class="paramname"> <em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>priority</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Register a shutdown routine with the <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html">ShutdownRegistry</a>. The shutdown handler must take no arguments and returns no value.<p>
The priority is used to specify the order for shutdowns, higher numbers are shutdown first, lower last (254 first, 0 last).<p>
The priority is required since handlers can depend on one another. Basic handlers like Lists should be last, higher level handlers (which may free Lists) should be shutdown first.<p>
Users are reserved priorities 254 to 127. Unless there is a known dependency on a <a class="el" href="namespaceSAMRAI.html">SAMRAI</a> shutdown handler, users should use these priorities.<p>
There is a potential for an infinite loop if routines register themselves with the registry as part of the shutdown.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>callback</em>&nbsp;</td><td>The function to call on shutdown </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>priority</em>&nbsp;</td><td>The priority (254 called first, 0 last) </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="4d8cbfad0833181f64e77ba793860727"></a><!-- doxytag: member="SAMRAI::tbox::ShutdownRegistry::callRegisteredShutdowns" ref="4d8cbfad0833181f64e77ba793860727" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SAMRAI::tbox::ShutdownRegistry::callRegisteredShutdowns           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Invoke the registered shutdown handlers. Note that this routine must be explicitly called at the end of the application. This routine may only be called once, since the registered information is discarded at the end of this call. 
</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="5f0fc6eec02a8fe99175699120c6a8af"></a><!-- doxytag: member="SAMRAI::tbox::ShutdownRegistry::priorityLogger" ref="5f0fc6eec02a8fe99175699120c6a8af" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#5f0fc6eec02a8fe99175699120c6a8af">SAMRAI::tbox::ShutdownRegistry::priorityLogger</a> = 05<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5bd1d2f71ae8aeb04f5667c21ed8c05a"></a><!-- doxytag: member="SAMRAI::tbox::ShutdownRegistry::priorityArenaManager" ref="5bd1d2f71ae8aeb04f5667c21ed8c05a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#5bd1d2f71ae8aeb04f5667c21ed8c05a">SAMRAI::tbox::ShutdownRegistry::priorityArenaManager</a> = 10<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="743f9c449eecba960857102a2ab777fa"></a><!-- doxytag: member="SAMRAI::tbox::ShutdownRegistry::priorityReferenceCounter" ref="743f9c449eecba960857102a2ab777fa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#743f9c449eecba960857102a2ab777fa">SAMRAI::tbox::ShutdownRegistry::priorityReferenceCounter</a> = 20<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="91d63849e0d3cb1fb1bbfa291dfc6b28"></a><!-- doxytag: member="SAMRAI::tbox::ShutdownRegistry::priorityList" ref="91d63849e0d3cb1fb1bbfa291dfc6b28" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#91d63849e0d3cb1fb1bbfa291dfc6b28">SAMRAI::tbox::ShutdownRegistry::priorityList</a> = 30<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="73cb2fa0c904bc0d5b6f5bc04aac21c1"></a><!-- doxytag: member="SAMRAI::tbox::ShutdownRegistry::priorityInputManager" ref="73cb2fa0c904bc0d5b6f5bc04aac21c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#73cb2fa0c904bc0d5b6f5bc04aac21c1">SAMRAI::tbox::ShutdownRegistry::priorityInputManager</a> = 40<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6df39a58102f6db489cd62a189e13107"></a><!-- doxytag: member="SAMRAI::tbox::ShutdownRegistry::priorityRestartManager" ref="6df39a58102f6db489cd62a189e13107" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#6df39a58102f6db489cd62a189e13107">SAMRAI::tbox::ShutdownRegistry::priorityRestartManager</a> = 50<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0644c1b7af40961244317d0d6da46699"></a><!-- doxytag: member="SAMRAI::tbox::ShutdownRegistry::priorityVariableDatabase" ref="0644c1b7af40961244317d0d6da46699" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#0644c1b7af40961244317d0d6da46699">SAMRAI::tbox::ShutdownRegistry::priorityVariableDatabase</a> = 60<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="019edbd79d2d7212b314cb28b2665442"></a><!-- doxytag: member="SAMRAI::tbox::ShutdownRegistry::priorityStatistician" ref="019edbd79d2d7212b314cb28b2665442" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#019edbd79d2d7212b314cb28b2665442">SAMRAI::tbox::ShutdownRegistry::priorityStatistician</a> = 70<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="82ff3591877606cd8cd54fb29441bd95"></a><!-- doxytag: member="SAMRAI::tbox::ShutdownRegistry::priorityBoundaryLookupTable" ref="82ff3591877606cd8cd54fb29441bd95" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#82ff3591877606cd8cd54fb29441bd95">SAMRAI::tbox::ShutdownRegistry::priorityBoundaryLookupTable</a> = 80<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="cdee715fd56db83db55f7090edcbfff9"></a><!-- doxytag: member="SAMRAI::tbox::ShutdownRegistry::priorityHierarchyDataOpsManager" ref="cdee715fd56db83db55f7090edcbfff9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#cdee715fd56db83db55f7090edcbfff9">SAMRAI::tbox::ShutdownRegistry::priorityHierarchyDataOpsManager</a> = 90<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5f26f3197c4139659c230365291a91a0"></a><!-- doxytag: member="SAMRAI::tbox::ShutdownRegistry::priorityTimers" ref="5f26f3197c4139659c230365291a91a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#5f26f3197c4139659c230365291a91a0">SAMRAI::tbox::ShutdownRegistry::priorityTimers</a> = 95<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="3e220e342a5d2512c71ee1474c956e63"></a><!-- doxytag: member="SAMRAI::tbox::ShutdownRegistry::priorityTimerManger" ref="3e220e342a5d2512c71ee1474c956e63" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char <a class="el" href="structSAMRAI_1_1tbox_1_1ShutdownRegistry.html#3e220e342a5d2512c71ee1474c956e63">SAMRAI::tbox::ShutdownRegistry::priorityTimerManger</a> = 98<code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this struct was generated from the following files:<ul>
<li>source/toolbox/base/<a class="el" href="ShutdownRegistry_8h.html">ShutdownRegistry.h</a><li>source/toolbox/base/<a class="el" href="ShutdownRegistry_8C.html">ShutdownRegistry.C</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Jun 18 11:28:59 2009 for SAMRAI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
